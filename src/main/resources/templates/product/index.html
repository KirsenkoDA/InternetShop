<!DOCTYPE html>
<html lang="en" xmlns:th="http://tymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>InternetShop</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    </head>
    <body>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
    <div th:insert="parts/navbar :: navigation"></div>
        <div name = "header">
            <H1>Internet Shop</H1>
            <p align="right">
                <button>Войти</button>
                <button>Зарегистрироваться</button>
            </p>
        </div>
<!--            <div name = "searchFild">-->
<!--                <form action="/products" method="get">-->
<!--                    <select name="selectByProductGroup">-->
<!--                        <option th:each="ProductGroup : ${groups}" th:value="${ProductGroup.getId()}" th:text="${ProductGroup.getName()}"-->
<!--                                th:selected="${ProductGroup.isSelected(selectedParam)}">-->
<!--                        </option>-->
<!--                    </select>-->
<!--                        <input type = "submit" value="Найти">-->
<!--                        <a href="/products/new">Добавить новый товар</a>-->
<!--                </form>-->
<!--            </div>-->
        <table class="table table-striped">
            <tr>
                <th>Код</th>
                <th>Наименование</th>
                <th>Цена</th>
            </tr>
<!--            <tr name = "productList" th:each="Product : ${products}">-->
<!--                <td><a th:href="@{/products/{id}(id=${Product.getId()})}" th:text="${Product.getId()}">products</a></td>-->
<!--                <td><a th:href="@{/products/{id}(id=${Product.getId()})}" th:text="${Product.getName()}">products</a></td>-->
<!--                <td><a th:href="@{/products/{id}(id=${Product.getId()})}" th:text="${Product.getPrice()}">products</a></td>-->
<!--            </tr>-->
            <tr name = "listProducts" th:each="Product : ${listProducts}">
                <td><a th:href="@{/products/{id}(id=${Product.getId()})}" th:text="${Product.getId()}">products</a></td>
                <td><a th:href="@{/products/{id}(id=${Product.getId()})}" th:text="${Product.getName()}">products</a></td>
                <td><a th:href="@{/products/{id}(id=${Product.getId()})}" th:text="${Product.getPrice()}">products</a></td>
            </tr>
        </table>
    <div th:if="${totalPages > 1}">
        <div class="row col-sm-10">
            <div class="col-sm-2">
                Total Rows: [[${totalItems}]]
            </div>
            <div class="col-sm-1">
                <a th:if="${currentPage > 1}" th:href="@{'/products/page/' + ${currentPage - 1}}"><<</a>
                <span th:unless="${currentPage > 1}"><<</span>
            </div>
            <div class="col-sm-1">
            <span th:each="i: ${#numbers.sequence(1, totalPages)}">
              <a th:if="${currentPage != i}" th:href="@{'/products/page/' + ${i}}">[[${i}]]</a>
              <span th:unless="${currentPage != i}">[[${i}]]</span> &nbsp; &nbsp;
            </span>
            </div>
            <div class="col-sm-1">
                <a th:if="${currentPage < totalPages}" th:href="@{'/products/page/' + ${currentPage + 1}}">>></a>
                <span th:unless="${currentPage < totalPages}">>></span>
            </div>
            <div class="col-sm-1">
                <a th:if="${currentPage < totalPages}" th:href="@{'/products/page/' + ${totalPages}}">Last</a>
                <span th:unless="${currentPage < totalPages}">Last</span>
            </div>
        </div>
    </div>
        <div name = "footer">
        </div>
    </body>
</html>